you can resize the vector array after defining
vector<int>rank;
rank.resize(n+1,0);